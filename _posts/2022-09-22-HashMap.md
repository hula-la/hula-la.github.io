---
layout: single
title: "HashMap, hashCode(), equals()"
categories: Java
tag: [Java, HashMap, hashCode, equals]
toc: true
toc_sticky: true
author_profile: false
sidebar:
  nav: "docs"
# search: false
---

## HashMap

- HashMapì´ë€ **í‚¤**ì™€ **ê°’**ì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ë°ì´í„°ë¡œ ì €ì¥.
- ê·¸ë¦¬ê³  hashingì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ì„±ëŠ¥ì´ ë›°ì–´ë‚¨.

#### ğŸ§€ Hashing

- í•´ì‹œí•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ë°ì´í„°ë¥¼ í•´ì‹œ í…Œì´ë¸”ì— ì €ì¥í•˜ê³  ê²€ìƒ‰í•˜ëŠ” ê¸°ë²•

- ##### ë°©ë²•

  1. í‚¤ê°’ì„ í•´ì‹œí•¨ìˆ˜ì— ë„£ìŒ.
  2. í•´ì‹œí•¨ìˆ˜ ê²°ê³¼ ê°’(í•´ì‹œì½”ë“œ)ì— í•´ë‹¹í•˜ëŠ” ë§í¬ë“œë¦¬ìŠ¤íŠ¸ë¥¼ ì°¾ìŒ.
  3. ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì— ê²€ìƒ‰í•œ í‚¤ì™€ ì¼ì¹˜í•˜ëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ìŒ.

#### ğŸ« hashCode

- Mapì„ ì‚¬ìš©í•  ë•Œ ë•Œë•Œë¡œ hashCodeë¥¼ ì‚¬ìš©í•˜ë©´ ì§ì ‘ í•´ì‰¬ ê°’ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ.

- ##### ğŸ” ì§ì ‘ í•´ì‰¬ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ì–¸ì ¤ê¹Œ?

  - ##### ë¬¸ì œìƒí™© 1

    - ë§µ ì•ˆì— 2ê°œì˜ ì¤‘ë³µëœ ë°ì´í„°ë¥¼ ì €ì¥
    - HashCode ê°’ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ë‚´ìš©ì´ ë˜‘ê°™ì•„ë„ ì¤‘ë³µì €ì¥ ë¨.
    - hashCodeë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ë©´ ì§ì ‘ í•´ì‰¬ì½”ë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒ.

  - ##### ë¬¸ì œí•´ê²° 1

    - ```java
      @Override
      public int hashCode() {
          final int number = 31;
          int hashCode = 1;
      
          hashCode = number * hashCode + ((name == null) ? 0 : name.hashCode());
          hashCode = number * hashCode + ((nickName == null) ? 0 : nickName.hashCode());
          hashCode = number * hashCode + age;
      
          return hashCode;
      }
      ```

  - ##### ë¬¸ì œìƒí™© 2

    - ë™ì¼í•œ ë‚´ìš©ì— ëŒ€í•´ì„œ hash ê°’ì€ ê°™ì•„ì§.

    - ë˜‘ê°™ì´ ë§µ ì•ˆì— ë°ì´í„°ê°€ 2ê°œ ì €ì¥ë¨.

    - equalsë„ ì˜¤ë²„ë¼ì´ë”© í•´ì¤˜ì•¼ í•¨.

    - mapì˜ equals í•¨ìˆ˜ëŠ” ê°ì²´ë¡œ ë¹„êµí•¨.

      ```java
      public final boolean equals(Object o) {
          if (o == this)
              return true;
          if (o instanceof Map.Entry) {
              Map.Entry<?,?> e = (Map.Entry<?,?>)o;
              if (Objects.equals(key, e.getKey()) &&
              Objects.equals(value, e.getValue()))
              return true;
          }
          return false;
      }
      ```

    - 2 ê°œì˜ ê°ì²´ë¥¼ ê°ê° ìƒì„±í•˜ë©´, hashcodeê°€ ê°™ì•„ë„ ê°ì²´ë¥¼ ë¹„êµí•  ë•Œ ë‹¤ë¥´ë‹¤ê³  ë‚˜ì˜´.

    - HashMapì— ì €ì¥ë  ë•Œ ë¹„êµë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ê³ , ë‘ ë²ˆ ì €ì¥ë¨.

  - ##### ë¬¸ì œí•´ê²° 2

    ```java
    @Override
    public boolean equals(Object o) {
        // ê°ì²´ê°€ ë™ì¼í•˜ë‹¤ë©´ true ì¤‘ë³µì €ì¥ ì•ˆë¨
        if (this == o) return true;
    
        // ê°ì²´ê°€ ë„ì´ê±°ë‚˜ í´ë˜ìŠ¤ ê°’ì´ ë‹¤ë¥´ë©´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— false
        // memberì¸ ê²½ìš° í´ë˜ìŠ¤ê°€ ë‘˜ë‹¤ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ ë„˜ì–´ê°„ë‹¤.
        if (o == null || getClass() != o.getClass()) return false;
    
        // ë©¤ë²„ ê°’ ë¹„êµ
        Member member = (Member) o;
    
        // ë‚˜ì´, ì´ë¦„, ë‹‰ë„¤ì„ì„ ë¹„êµí•´ì„œ ë‹¤ë¥¸ì§€ ì²´í¬í•œë‹¤.
        return age == member.age && Objects.equals(name, member.name) && Objects.equals(nickName, member.nickName);
    }
    ```

    

#### ğŸ“Œ ê²°ë¡ 

- hashCodeë¥¼ ì§ì ‘ ë§Œë“¤ ìˆ˜ ìˆìŒ.
- equalsë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•¨.
- hashCodeë‚˜ equalsë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ë©´, ë‘˜ ë‹¤ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•¨
